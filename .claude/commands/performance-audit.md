# 性能审计和优化命令

对代码和应用进行全面的性能分析，提供具体的优化建议和实施方案。

## ⚡ 使用方式

请对以下代码/应用进行全面的性能审计: $ARGUMENTS

## 🔍 审计范围

### 前端性能分析
1. **Core Web Vitals**
   - LCP (Largest Contentful Paint) - 目标: < 2.5s
   - FID (First Input Delay) - 目标: < 100ms  
   - CLS (Cumulative Layout Shift) - 目标: < 0.1

2. **资源优化**
   - Bundle size分析和代码拆分
   - 图片优化和懒加载
   - 字体加载策略
   - 第三方脚本影响

3. **渲染性能**
   - 首屏渲染优化
   - Runtime性能分析
   - 内存泄漏检测
   - 重排重绘优化

### 后端性能分析
1. **API性能**
   - 响应时间分析 - 目标: < 500ms
   - 数据库查询优化
   - 缓存策略评估
   - 并发处理能力

2. **服务器资源**
   - CPU使用率监控
   - 内存占用分析 - 目标: < 512MB
   - 网络I/O优化
   - 磁盘读写性能

### React/Next.js专项检查
1. **组件性能**
   - 不必要的重渲染
   - useState/useEffect优化
   - React.memo使用
   - useMemo/useCallback应用

2. **Next.js优化**
   - SSG/SSR策略
   - Image组件优化
   - Dynamic import使用
   - App Router性能

## 📊 输出格式

### 🎯 性能评分
- **总体评分**: 0-100分
- **各项指标得分**
- **性能等级**: Excellent/Good/Needs Improvement/Poor

### 🔍 问题诊断
#### Critical Issues (严重问题)
- **问题描述**: 具体性能瓶颈
- **影响程度**: 性能影响量化
- **位置**: 文件和代码行
- **现状数据**: 当前性能数据

#### Optimization Opportunities (优化机会)
- **优化项目**: 具体优化点
- **预期收益**: 性能提升预估
- **实施难度**: Easy/Medium/Hard
- **优先级**: High/Medium/Low

### 🛠️ 具体优化方案

#### 立即可实施 (Quick Wins)
```typescript
// 具体的优化代码示例
// Before: 性能问题代码
// After: 优化后代码
// Impact: 预期性能提升
```

#### 中期优化项目
- **技术方案**: 详细实施步骤
- **所需时间**: 开发时间估算
- **技术风险**: 风险评估
- **收益分析**: ROI计算

#### 长期架构优化
- **架构调整建议**
- **技术栈优化**
- **基础设施改进**

### 📈 监控建议
- **关键指标监控**
- **告警阈值设置**
- **持续优化策略**

### 🧪 验证测试
```javascript
// 性能测试用例
// 基准测试脚本
// 监控代码示例
```

## 🎯 优化目标

### 性能指标目标
- **首屏加载**: < 2秒
- **API响应**: < 500ms
- **内存使用**: < 512MB  
- **Bundle大小**: < 500KB
- **Lighthouse评分**: > 90分

### 用户体验目标
- **页面交互**: 流畅无卡顿
- **内容加载**: 渐进式显示
- **错误处理**: 优雅降级
- **离线体验**: PWA支持

请现在开始性能审计分析。