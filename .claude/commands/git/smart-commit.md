# 智能提交信息生成

基于代码变更自动生成符合规范的提交信息，提高Git提交质量。

## 使用方式

请为当前的代码变更生成智能的提交信息: $ARGUMENTS

## 🎯 分析范围

### 代码变更分析
1. **变更类型识别**
   - 新功能开发 (feat)
   - Bug修复 (fix) 
   - 文档更新 (docs)
   - 代码重构 (refactor)
   - 性能优化 (perf)
   - 测试相关 (test)
   - 构建工具 (build)
   - Agent功能 (agent)

2. **影响范围评估**
   - 模块/组件级别变更
   - API接口变更
   - 数据库schema变更
   - 配置文件修改

3. **变更重要性判断**
   - Breaking Changes (重大变更)
   - 向后兼容的改进
   - 内部实现优化

## 📝 提交信息格式

### 标准格式
```
<type>(<scope>): <description>

<body>

<footer>
```

### 类型说明
- **feat**: 新功能
- **fix**: Bug修复
- **docs**: 文档变更
- **style**: 代码格式调整
- **refactor**: 重构代码
- **test**: 测试相关
- **chore**: 构建工具、辅助工具变动
- **agent**: AI Agent相关功能

### 范围说明
- **api**: API接口变更
- **ui**: 用户界面变更  
- **db**: 数据库相关
- **config**: 配置文件
- **auth**: 认证授权
- **security**: 安全相关

## 🔍 智能分析流程

### 1. 代码差异分析
- 检查文件变更类型和数量
- 识别新增、修改、删除的文件
- 分析代码逻辑变更复杂度

### 2. 语义理解
- 理解变更的业务目的
- 识别用户价值和技术价值
- 评估对系统的整体影响

### 3. 规范化生成
- 符合团队提交规范
- 包含必要的上下文信息
- 便于代码审查和历史追踪

## 📊 输出格式

### 提交信息建议
```
建议的提交信息:
---
feat(auth): 添加JWT token刷新机制

- 实现自动token刷新逻辑
- 添加refresh token存储和管理
- 优化用户登录状态保持
- 提升用户体验，减少重复登录

Closes #123
---
```

### 备选方案
```
备选提交信息:
1. feat(auth): implement JWT refresh token mechanism
2. feat: 优化用户认证体验，添加token自动刷新
3. auth: 添加JWT刷新机制，提升登录状态保持
```

### 变更摘要
```
变更摘要:
- 文件数量: 5个
- 新增代码: 120行
- 删除代码: 15行
- 主要变更: 认证模块功能增强
- 风险评级: 低 (向后兼容)
```

## 🎯 特殊场景处理

### Breaking Changes
```
feat(api)!: 重构用户认证API接口

BREAKING CHANGE: 
- 修改登录接口返回格式
- 移除旧版token验证方式
- 需要前端配套更新

Migration Guide: 详见 MIGRATION.md
```

### 多功能混合提交
```
feat(ui): 优化用户界面和修复已知问题

Features:
- 新增用户头像上传功能
- 优化响应式布局适配

Fixes:  
- 修复移动端滚动问题
- 解决Safari兼容性问题

Co-authored-by: Designer <designer@company.com>
```

### 紧急修复
```
fix(critical): 修复用户数据泄露安全漏洞

- 添加敏感数据访问权限检查
- 修复API未授权访问问题
- 增强数据查询过滤机制

Security-Fix: CVE-2024-xxxx
Priority: High
```

## 💡 最佳实践建议

### 提交粒度
- 每次提交专注单一目的
- 避免混合不相关的变更
- 保持提交的原子性

### 描述质量
- 使用现在时态描述变更
- 说明"做了什么"而不是"怎么做"
- 包含必要的上下文和原因

### 团队协作  
- 遵循团队约定的提交规范
- 包含相关的Issue或任务编号
- 必要时添加协作者信息

## 🔧 使用示例

### 基础使用
```
当前变更添加了用户登录功能，包括前端表单和后端API验证
```

### 详细分析  
```
这次提交包含以下变更：
1. 新增用户登录页面组件
2. 实现JWT认证中间件
3. 添加用户状态管理
4. 更新路由配置
请生成标准的提交信息
```

### 指定类型
```
这是一个Bug修复提交，解决了移动端布局错乱问题，
涉及CSS样式调整和响应式设计优化
```

请开始智能提交信息生成。